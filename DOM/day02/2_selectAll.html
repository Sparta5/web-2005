<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>全选和取消全选</title>
</head>
<body>
	<h2>管理员列表</h2>
	<table border="1px" width="500px">
	  <thead>
		<tr>
			<th><input type="checkbox"/>全选</th>
			<th>管理员ID</th>
			<th>姓名</th>
			<th>操作</th>
		</tr>
	  </thead>
	  <tbody>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>1</td>
	  		<td>Tester</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>2</td>
	  		<td>Manager</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>3</td>
	  		<td>Analyst</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>4</td>
	  		<td>Admin</td>
	  		<td>修改 删除</td>
	  	</tr>
	  </tbody>
	</table>
	<button>删除选定</button>
  <script>
		//另一个开着的span，注定要关上！（清除class）
				//问题: 如果单击按钮时所有span都是关着的，则找不到另一个开着的otherSpan，则什么也不需要做！
				//只有找到了另一个开着的span时，才有必要关闭另一个span
			//1.查找触发事件的元素
			document.querySelector("thead input")
			//2.绑定事件函数
			.onclick=function(){
			//3.
				var chbs=
						document.querySelectorAll("tbody input");
				//4.修改元素
				for(var chb of chbs){
				//如果上边的chbAll选中，则下方每个chb都选中
				//如果上边的chbAll不选中，则下方每个chb都不选中
				//结论: 让下方每个chb的选中状态和上边的chbAll的选中状态保持一致即可！
				chb.checked=this.checked;
				}
			}
			var chbs=document.querySelectorAll("tbody input");
			for(var chb of chbs){
				chb.onclick=function(){
					var chbAll=document.querySelector("thead input");
					var unchecked=document.querySelector(
						"tbody input:not(:checked)");
					if(unchecked==null){
						chaAll.checked=true;
					}else{
						chbAll.checked=false;
					}
				}
			}
	</script>
</body>
</html>
