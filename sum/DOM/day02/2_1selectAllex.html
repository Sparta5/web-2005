<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>全选和取消全选</title>
</head>
<body>
	<h2>管理员列表</h2>
	<table border="1px" width="500px">
	  <thead>
		<tr>
			<th><input type="checkbox"/>全选</th>
			<th>管理员ID</th>
			<th>姓名</th>
			<th>操作</th>
		</tr>
	  </thead>
	  <tbody>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>1</td>
	  		<td>Tester</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>2</td>
	  		<td>Manager</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>3</td>
	  		<td>Analyst</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>4</td>
	  		<td>Admin</td>
	  		<td>修改 删除</td>
	  	</tr>
	  </tbody>
	</table>
	<button>删除选定</button>
  <script>
		//功能1:点击上方的全选，下方的checkbox都选中
		//1.查找修改元素
		var theadchb=document.querySelector("thead input");
		var chbs=document.querySelectorAll("tbody input");
		//2.绑定事件触发的函数
		theadchb.onclick=function(){
			//3.查找要修改元
		var chbs=document.querySelectorAll("tbody input");
			//4.修改元素
			for(var chb of chbs){
				chb.checked=this.checked
			}
		}
	 //功能2:点击下方每个chb，也可能影响上方的theadchb
		//2.绑定事件
		 for(var chb of chbs){
			 chb.onclick=function(){
				 //返回的是对象类型没有找到为null
				var unchecked=document.querySelector("tbody input:not(:checked)")
				console.log(unchecked)
				if(unchecked){
					theadchb.checked=false
				}else{
					theadchb.checked=true
				}
			 }
		 }
	</script>
</body>
</html>
