<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>全选和取消全选</title>
</head>
<body>
	<h2>管理员列表</h2>
	<table border="1px" width="500px">
	  <thead>
		<tr>
			<th><input type="checkbox"/>全选</th>
			<th>管理员ID</th>
			<th>姓名</th>
			<th>操作</th>
		</tr>
	  </thead>
	  <tbody>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>1</td>
	  		<td>Tester</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>2</td>
	  		<td>Manager</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>3</td>
	  		<td>Analyst</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox"/></td>
	  		<td>4</td>
	  		<td>Admin</td>
	  		<td>修改 删除</td>
	  	</tr>
	  </tbody>
	</table>
	<button>删除选定</button>
  <script>
		//功能1:点击上方的全选，下方的checkbox都选中
		//  		取消上方的全选，下方的checkbox都取消全选
		//DOM4步
		//1.查找要修改的元素(thead下的第一个input),只有一个不用加All
		var theadchb=document.querySelector("thead input")
		//2.绑定触发事件的元素,只有一个就不用循环
		theadchb.onclick=function(){
	  //3.查找要修改的元素
		//要修改tbody多个input，所以要加All
		var chbs=document.querySelectorAll("tbody input");
		//4.修改元素
		//为多个复选(tbody的input)框 
    //赋值(添加)当前事件this.checked的boolear值状态
		for(var chb of chbs){
			chb.checked=this.checked;
		}
	 }
	 //功能2:点击下方每个chb，也可能影响上方的theadchb
	 //1.DOM4步
	 //1.查找触发事件的元素多个(tbody input)
	 var chbs=document.querySelectorAll("tbody input");
	 //2.绑定事件
	 for(var chb of chbs){
		 chb.onclick=function(){
			 //3.查找要修改的元素(theadchb)

			 //4.修改元素
			 //4.1查看是否有true(只用查找一个不满足条件的，全选就取消。所以不用加All)
			 var unchecked=       //tbody所有input未被选中的input,
			 	document.querySelector("tbody input:not(:checked)")
				 console.log(unchecked)
				//querySelector返回的是一个对象结构所以判断条件为null
				if(unchecked==null){
					theadchb.checked=true
				}else{
					theadchb.checked=false
				}
		 }
	 }
	</script>
</body>
</html>
